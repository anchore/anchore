.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.41.1.
.TH ANCHORE, "1" "November 2017" "anchore, version 1.1.7" "User Commands"
.SH NAME
anchore, \- manual page for anchore, version 1.1.7
.SH SYNOPSIS
.B anchore
\fIanalyze \fR[\fIOPTIONS\fR]
.SH DESCRIPTION
.IP
Run the analyzer to scan and summarize a container image and store that
analysis in the local host's anchore image db for further use in gating,
reports, and queries.
.IP
Upon completion of analysis of an image there will be an entry in the db
named with the imageid (a directory in $anchore/data/, where $anchore =
$HOME/.anchore (default) or \fI/etc/anchore\fP depending on installation). If
the analyzer detects that an image has already been analyzed it will skip
analysis. This behavior can be overridden with the '\-\-force' flag.
.IP
To get the full power of analysis and subsequent gate and query tools it
is recommended to include the dockerfile as often as possible. When using
\fB\-\-dockerfile\fR, you must use \fB\-\-image\fR and specify a single image. This allows
anchore to associate that specific dockerfile with the image in the
analysis output. Anchore will always try to infer a dockerfile, but
certain constructs and operations in dockerfiles become opaque after the
image is built (e.g. COPY operations, or RUN operations that invoke a tool
that loads data on the image), so including the actual dockerfile results
in the best analysis output and makes more information available for gate
evaluation and later queries.
.IP
Image IDs can be specified as hash ids, repo names (e.g. centos), or tags
(e.g. centos:latest).
.IP
Image Types: ["none"|"base"] Specify the type of the image being analyzed.
Use 'base' to tell anchore that the given image is a base image to be used
to build other images. Use 'none' to not assign a specific image type to
the image.
.IP
Examples:
.IP
Analyze all images listed in a file that contains lines of the form
\&'<image ID> <path/to/dockerfile>' on the local host:
.IP
\&'anchore analyze \fB\-\-imagefile\fR myimages.txt'
.IP
Analyze a newly built image with it's corresponding dockerfile:
.IP
\&'anchore analyze \fB\-\-image\fR myapp:latest \fB\-\-dockerfile\fR myapp.dockerfile'
.IP
Analyze all image on the local host except a list (perhaps local tools
used in the build process, etc):
.IP
\&'anchore analyze \fB\-\-excludefile\fR exclusions.txt'
.SH OPTIONS
.TP
\fB\-\-force\fR
Force analysis even if existing analysis is
found in db.
.TP
\fB\-\-image\fR <imageid>
Process specified image ID
.TP
\fB\-\-imagefile\fR <file>
Process image IDs listed in specified file.
.TP
\fB\-\-include\-allanchore\fR
Include all images known by anchore, as
found in host\-local db
.TP
\fB\-\-dockerfile\fR <file>
Dockerfile of the image to analyze.
.TP
\fB\-\-imagetype\fR <typetext>
Specify the type of image that is being
analyzed (use "none" if unknown).
.TP
\fB\-\-skipgates\fR
Do not run gates as part of analysis.
.TP
\fB\-\-layerstrategy\fR [NoIntermediates|All|BaseOnly|FirstLast]
Name of strategy to use for analyzing images
in the history of the requested images.
Identified by parentIds/imageid in `docker
history` output.
.TP
\fB\-\-excludefile\fR <file>
Name of file containing images to exclude
during analysis. Each line is an image
name/id
.TP
\fB\-\-extended\-help\fR
Show extended help content, similar to
manpage, and exit.
.TP
\fB\-\-help\fR
Show this message and exit.
